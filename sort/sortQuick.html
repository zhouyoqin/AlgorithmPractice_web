<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<a href="javascript:;" onClick="test()">ClickHereToTest</a>
	<script>
/*
* 快速排序法
 *
 * 又称划分交换排序（partition-exchange sort），一种排序算法，最早由东尼·霍尔提出。
 * 在平均状况下，排序n个项目要Ο(n log n)次比较。在最坏状况下则需要Ο(n2)次比较，但这种状况并不常见。事实上，快速排序通常明显比其他Ο(n log n)算法更快，因为它的内部循环（inner loop）可以在大部分的架构上很有效率地被实现出来
 *
 * 算法规则： 
1）设置两个变量i、j，排序开始的时候：i=0，j=N-1；
2）以第一个数组元素作为关键数据，赋值给key，即key=A[0]；
3）从j开始向前搜索，即由后开始向前搜索(j--)，找到第一个小于key的值A[j]，将A[j]和A[i]互换；
4）从i开始向后搜索，即由前开始向后搜索(i++)，找到第一个大于key的A[i]，将A[i]和A[j]互换；
5）重复第3、4步，直到i=j； (3,4步中，没找到符合条件的值，即3中A[j]不小于key,4中A[i]不大于key的时候改变j、i的值，使得j=j-1，i=i+1，直至找到为止。找到符合条件的值，进行交换的时候i， j指针位置不变。另外，i==j这一过程一定正好是i+或j-完成的时候，此时令循环结束）。
 *
*/
function sortQuick(arr,start,end){
	// 如果左边索引大于或者等于右边的索引就代表已经整理完成一个组了
	if (start==undefined) {
		start = 0;
		end = arr.length-1;
	}
	var f_start = start;
	var f_end = end;
	if(start+1 == end){
		if (arr[start] > arr[end]) {
			var tem = arr[start];
			arr[start] = arr[end];
			arr[end] = tem;
		}
		return;
	}
	var flag = arr[start];
	while(start < end){
		while(start < end && arr[end] >= flag){
			end--;
		}
		var tem = arr[start];
		arr[start] = arr[end];
		arr[end] = tem;
		while(start < end && arr[start] <= flag){
			start++;
		}
		var tem = arr[start];
		arr[start] = arr[end];
		arr[end] = tem;
	}
	if(start-1 == f_start){
		sortQuick(arr,f_start,start-1);
	}
	if(f_end == start+1){
		sortQuick(arr,start+1,f_end);
	}
	return arr;
}
function test (){
	// var arr_tosort = [49,38,65,97,76,13,27,49];
	var arr_tosort = [1,2,2,5,3,8];
	console.log(sortQuick(arr_tosort));
}
	</script>
</body>
</html>